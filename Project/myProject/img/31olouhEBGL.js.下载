(function(b){var e=window.AmazonUIPageJS||window.P,k=e._namespace||e.attributeErrors,a=k?k("AmazonGatewayHerotatorJS"):e;a.guardFatal?a.guardFatal(b)(a,window):a.execute(function(){b(a,window)})})(function(b,e,k){b.when("generic-observable").register("gw-herotator-controller",function(a){var b=function(){};return function(e){function h(){p.notifyObservers("delayBegin")}function f(){p.notifyObservers("delayInterrupted")}function m(d){for(var c=0;c<B.length;c++)if(B[c]===d)return c+1}function c(d){d=
d||{};return{delay_complete:d.delay_complete||b,js_ready:d.js_ready||b,fg_loaded:d.fg_loaded||b,mouse_move:d.mouse_move||b,mouse_leave:d.mouse_leave||b,delay_interrupted_timeout:d.delay_interrupted_timeout||b,rotation_complete:d.rotation_complete||b,goto_card:function(d){d!==C&&t.user_navigation(B[d-1])},user_navigation:d.user_navigation||function(d){t=new u(d)},user_interaction:d.user_interaction||function(){t.user_navigation(B[C-1])},stop_autorotation:d.stop_autorotation||function(){t.user_navigation(B[C-
1])},pause:d.pause||b,resume:d.resume||b}}function g(){function d(){!a&&D[g]&&(t=1===A?new y:new v)}h();var g=B[(C-1+1)%A+1-1],a=!0;return new c({fg_loaded:function(c){c===g&&d()},delay_complete:function(){a=!1;d()},mouse_move:function(){t=new n},pause:function(){t=new q}})}function n(){f();return new c({mouse_move:f,mouse_leave:function(){t=new g},delay_interrupted_timeout:function(){t.mouse_leave()},pause:function(){t=new q(!0)}})}function q(d){f();return new c({mouse_move:function(){d=!0;f()},
mouse_leave:function(){d=!1},resume:function(){t=d?new n:0<H?new g:new y}})}function v(){p.notifyObservers("autorotating");C=(C-1+1)%A+1;p.notifyObservers("gotoCard",C);H--;return new c({rotation_complete:function(){t=0<H?new g:new y},mouse_move:function(){t=0<H?new d:new y},pause:function(){t=new k}})}function d(d){var g=!1;return new c({rotation_complete:function(){h();t=g?new q:new n},pause:function(){g=!0},resume:function(){g=!1}})}function k(){var d=!1;return new c({rotation_complete:function(){h();
t=new q(d)},mouse_move:function(){d=!0},mouse_leave:function(){d=!1}})}function u(d){p.notifyObservers("userNavigation");C=m(d);p.notifyObservers("gotoCard",C);return new c({rotation_complete:function(){t=new y},user_navigation:function(d){t=new z(d)},user_interaction:b})}function z(d){return new c({rotation_complete:function(){t=new u(d)},user_navigation:function(c){d=c},user_interaction:b})}function y(){p.notifyObservers("stopAutorotation");return new c({})}e=e||{};var p=new a,t=new function(){function d(){D[E]&&
a&&(p.notifyObservers("ready"),t=new g,f&&t.pause(),h&&t.stop_autorotation())}var a=!1,h=!1,f=!1;return new c({fg_loaded:function(c){c===E&&d()},js_ready:function(){a=!0;d()},user_navigation:b,stop_autorotation:function(){h=!0},pause:function(){f=!0},resume:function(){f=!1}})},B=e.fgIDs||[],A=B.length,E=B[0],C=e.card_num||1,D={},H=e.circular?Infinity:A;return{delayComplete:function(){t.delay_complete()},jsReady:function(){t.js_ready()},fgLoaded:function(d){D[d]=!0;E===d&&p.notifyObservers("atfLoaded");
t.fg_loaded(d)},mouseMove:function(){t.mouse_move()},mouseLeave:function(){t.mouse_leave()},delayInterruptedTimeout:function(){t.delay_interrupted_timeout()},rotationComplete:function(){t.rotation_complete()},gotoCard:function(d){t.goto_card(d)},userInteraction:function(){t.user_interaction()},userNavigation:function(d){t.user_navigation(d)},stopAutorotation:function(){t.stop_autorotation()},pause:function(){t.pause()},resume:function(){t.resume()},addObserver:p.addObserver,removeObserver:p.removeObserver}}});
b.when("herotator-btf").register("herotator",function(a){return a});b.register("herotator-btf",function(){return function(a,l){function r(d){return function(){b.when("gw-desktop-herotator/controller").execute(function(){K[d]()})}}function h(d,c,g){d.addEventListener?d.addEventListener(c,g,!1):d.attachEvent("on"+c,g)}function f(c,g){A[c]=[];var a=g.length;if(0<a)for(var p=0;p<a;p++)(function(a){var p=new Image;p.onload=function(){A[c].splice(d(A[c],p),1);A[c]&&0===A[c].length&&
b.when("gw-desktop-herotator/controller").execute(function(){var d=document.getElementById("gw-ftGr-"+c),g=d.className,g=g.replace(/\s*\ba\-lazy\-loaded\b\s*/,"");d.className=g;K.fgLoaded(c)});b.when("A").execute(function(d){var g=d.$("#gw-ftGr-"+c+" img.a-dynamic-image");d.loadDynamicImage(g)})};A[c].push(p);p.src=g[a].src})(p);else b.when("gw-desktop-herotator/controller").execute(function(){K.fgLoaded(c)})}function m(){B=Date.now()}function c(){D||q()}function g(){I=I?Math.min(I,Date.now()):Date.now();
clearTimeout(p.timeout_id);clearTimeout(g.timeout_id);g.timeout_id=setTimeout(function(){g.timeout_id=0;K.delayInterruptedTimeout()},3E3)}function n(){D=!0}function q(){q.sent||(clearTimeout(q.timeout),q.timeout=setTimeout(function(){v(a.uri,a.data);q.sent=!0},2E3))}function v(d,c){b.when("A").execute(function(g){g.$.ajax(d,{async:!1,cache:!1,type:"post",data:c})})}function d(d,c){if(d.indexOf)return d.indexOf(c);for(var g=0;g<d.length;g++)if(d[g]===c)return g}function k(){return U=U||z()}function u(d){"object"===
typeof e.ue&&"function"===typeof e.ue.count&&e.ue.count(d,(e.ue.count(d)||0)+1)}function z(){var d=L(".a-carousel-rounded-buttons .a-carousel-left,.a-carousel-rounded-buttons .a-carousel-right");L(".a-carousel-rounded-buttons .a-carousel-left").attr("cel_widget_id","gw-desktop-hero-left-cel");L(".a-carousel-rounded-buttons .a-carousel-right").attr("cel_widget_id","gw-desktop-hero-right-cel");L(".a-carousel-rounded-buttons .a-carousel-left").addClass("celwidget");L(".a-carousel-rounded-buttons .a-carousel-right").addClass("celwidget");
L(".a-carousel-rounded-buttons .a-carousel-left").click(function(d){u("gw-desktop-hero-left")});L(".a-carousel-rounded-buttons .a-carousel-right").click(function(d){u("gw-desktop-hero-right")});return{show:function(){d.show();L(".a-carousel-left").css("z-index",10);L(".a-carousel-right").css("z-index",10)},hide:function(){d.hide()}}}function y(){var d=L("#gw-desktop-herotator");d.addClass("gw-desktop-herotator-ready");b.register("herotator-controls",function(){1<d.find(".a-carousel-card").length?
(k().show(),e.GWI&&e.GWI.recordLatency("gwHerotatorActive")):k().hide()})}function p(d){H<I&&(C-=I-H,I=0);H=Date.now();p.timeout_id=setTimeout(function(){C=E;K.delayComplete()},C)}function t(d,c){t.current_card!==c&&(t.current_card=c,F.gotoPage(c),S.notifyObservers("page_changed"));setTimeout(function(){K.rotationComplete()},250)}var B=Date.now(),A={},E=5E3,C=E,D=!1,H=0,I=0,F,L,w=document.getElementById("gw-desktop-herotator").getElementsByTagName("ol")[0],S,K,U;h(w,"click",r("userInteraction"));
h(w,"mouseenter",r("mouseMove"));h(w,"mousemove",r("mouseMove"));h(w,"mouseleave",r("mouseLeave"));h(w,"touchstart",r("userInteraction"));h(w,"touchmove",r("userInteraction"));h(w,"touchend",r("userInteraction"));h(w,"touchcancel",r("userInteraction"));for(var w=document.getElementById("gw-desktop-herotator").getElementsByTagName("li")[0],M=0,T=w.childNodes[M];T&&"div"!==String(T.nodeName).toLowerCase();)M++,T=w.childNodes[M];M=T;w=String(M.id).replace(/^gw-ftGr-/,"");M=M.getElementsByTagName("img");
f(w,M||[]);for(var N=[w],w=0;l[w];)N.push(l[w].fgID),w++;b.when("gw-herotator-controller").execute(function(d){K=new d({fgIDs:N});K.addObserver("atfLoaded",m);K.addObserver("delayBegin",p);K.addObserver("delayInterrupted",g);K.addObserver("gotoCard",t);K.addObserver("userNavigation",c);K.addObserver("stopAutorotation",n);K.addObserver("ready",function(){var d=Date.now()-B;C=Math.max(E-d,1);y();L("#gw-desktop-herotator").addClass("gw-desktop-herotator-ready")});b.register("gw-desktop-herotator/controller");
b.when("generic-observable").register("gw-desktop-herotator",function(d){S=new d;return{getAutorotationDelay:function(){return E},setAutorotationDelay:function(d){d=parseInt(d,10);C=d-(E-C);E=d},stopAutorotation:function(){K.stopAutorotation()},disableNavigation:function(){k().hide();F.pause()},enableNavigation:function(){k().show();F.resume()},pause:function(){K.pause()},resume:function(){K.resume()},addObserver:S.addObserver,removeObserver:S.removeObserver}})});b.when("A","a-carousel-framework",
"gwAjax").execute(function(d,c,g){function a(){var d=0;for(e.GWI&&e.GWI.recordLatency("gw-hero-btf-populate");l[d];){var c=l[d].fgID,g=l[d].content,p=document.getElementById("gw-ftGr-"+c);L(p).html(g);g=p.getElementsByTagName("img");f(c,g);d++}}L=d.$;c.onInit("gateway-desktop-layout.herotator",function(){var p=d.$("#gw-desktop-herotator > .a-carousel-container");F=c.getCarousel(p);F.onChange("pageNumber",function(){var d=F.getAttr("pageNumber");K.gotoCard(d);d-=2;l[d]&&l[d].callbackUrl&&(g(l[d].callbackUrl,
{type:"POST",id:"desktop-herotator-btf-"+l[d].fgID}),delete l[d].callbackUrl)});a();b.when("gw-desktop-herotator").register("gw-desktop-herotator/dom-ready");b.when("gw-desktop-herotator/controller","gw-desktop-herotator").execute(function(){K.jsReady()})})})}})});